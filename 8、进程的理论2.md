# 一、进程的标识符PID

## 1、进程标识符PID和PPID

- PID：进程号，进程号是**一个大于等于0** 的**整数值**，是**进程的唯一标识**。
- PPID：父进程号，系统中的每一个进程，**都是拷贝父进程资源得到的**。
- `根目录/proc` 里的数字都是一个进程。

![image-20250710165810333](C:\Users\LEGION\AppData\Roaming\Typora\typora-user-images\image-20250710165810333.png)

# 二、多进程的目的和概念

## 1、引入目的

- 实现**多任务并发执行**
- **可以实现数据在多个进程之间进行通信**，共同处理整个程序的相关数据，提高工作效率

## 2、多进程的相关概念

- 进程有**一定的生命周期**，包含了**创建、死亡、就绪、挂起、执行**的5种状态态。
- 进程的状态切换
  - ![image-20250711152617238](C:\Users\LEGION\AppData\Roaming\Typora\typora-user-images\image-20250711152617238.png)

- 进程是**计算机资源分配的基本单元**，系统会给每个进程分配**0---4G的虚拟内存**，其中**0---3G是用户空间，3---4G是内核空间**
  - **其中多个进程中0--3G的用户空间是相互独立的，但是，3--4G的内核空间是相互共享的**
  - **用户空间**细分为：**栈区、堆区、静态区**

- **进程的调度机制：时间片轮询上下文机制**。

> `并发和并行`
>
> 并发：是针对于**单核CPU**系统在处理多个任务时，使用相关的调度机制，实现多个任务进行细化**时间片轮询**时，在**宏观上感觉是多个任务同时执行**的操作，同一时刻，只有一个任务在被CPU处理
>
> 并行：是针对于**多核CPU**而言，处理多个任务时，同一时间，**每个CPU处理的任务之间是并行**的， 实现的是**真正意义上多个任务同时执行的** 

# 三、进程的内存管理

![image-20250711151738212](C:\Users\LEGION\AppData\Roaming\Typora\typora-user-images\image-20250711151738212.png)

- **每个进程独立地拥有用户空间，多个进程可以拥有多份**
- **多个进程共享内核空间，只有一份**
- 物理内存：内存条上（硬件上）真正存在的存储空间
-  虚拟内存：程序运行后，通过**内存映射单元（mmu）**，将物理内存映射出4G的虚拟内存，供进程使用

# 四、进程和程序的区别

- 进程：是**动态的，是有生命周期，进程会被分配4G虚拟内存空间，进程是存储在内存上的**。
- 程序：是**静态的，没有生命周期，是磁盘上存储的二进制文件**。

# 五、进程的种类

- 有三种：**交互进程、批处理进程、守护进程**
  - 交互进程：它是**由shell控制**，可以直接和用户进行交互的，例如文本编辑器
  - 批处理进程：内部维护了一个**队列**，**被放入该队列中的进程，会被统一处理**。例如 g++编译器的一 步到位的编译
  - 守护进程：**脱离了终端**而存在，**随着系统的启动而运行，随着系统的退出而停止**。例如：操作系统的服务进程 

# 六、特殊的进程

- 0 （idel）：他是**linux启动后的第一个进程**，也叫**空闲进程**。当没有其他进程运行时，会运行该进程。**他也是1号进程和2号进程的父进程**。
- 1（init）：他是由0号进程创建出来的，这个进程会**完成一些硬件的必要初始化工作**，除此之外，还会**为孤儿进程进行收尸工作**。
- 2（kthreadd）：也称**调度进程**，这个进程也是由0号进程创建出来的，**主要完成任务调度问题**。
- **孤儿进程**：当前进程还在运行，但是其父进程已经退出了。
  - **说明**：每个进程退出后，其分配的进程资源应该由父进程进行回收，否则造成资源的浪费。

- **僵尸进程**：当前进程已经退出了，但是父进程没有为其回收资源。

# 七、进程的创建和终止

## 1、进程的创建

操作系统需要一些方法来创建进程：

- 系统初始化（init）
- 正在运行的程序执行了创建进程的系统调用（比如fork）
- 用户请求创建一个新进程
- 初始化一个批处理工作



## 2、进程的终止



